{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst formReg = document.querySelector('.feedback-form');\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nlet formData = {};\n\nfunction onInputHandler(event) {\n  const inputValue = event.target.value.trim();\n  const inputName = event.target.name;\n  formData[inputName] = inputValue;\n\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nformReg.addEventListener('input', throttle(onInputHandler, 500));\nformReg.addEventListener('submit', event => {\n  event.preventDefault();\n\n  console.log(formData);\n  formData = {};\n  localStorage.getItem(STORAGE_KEY);\n  event.target.reset();\n});\n\nfunction refreshForm() {\n  try {\n    const savedData = localStorage.getItem(STORAGE_KEY);\n    if (!savedData) return;\n    formData = JSON.parse(savedData);\n    Object.entries(formData).forEach(([key, val]) => {\n      formReg.elements[key].value = val;\n    });\n  } catch ({ message }) {\n    console.log(message);\n  }\n}\n\nrefreshForm();\nlocalStorage.removeItem(STORAGE_KEY);\n"],"names":["formReg","STORAGE_KEY","formData","onInputHandler","event","inputValue","inputName","throttle","refreshForm","savedData","key","val","message"],"mappings":"wIAEA,MAAMA,EAAU,SAAS,cAAc,gBAAgB,EAEjDC,EAAc,sBAEpB,IAAIC,EAAW,CAAA,EAEf,SAASC,EAAeC,EAAO,CAC7B,MAAMC,EAAaD,EAAM,OAAO,MAAM,KAAI,EACpCE,EAAYF,EAAM,OAAO,KAC/BF,EAASI,GAAaD,EAEtB,aAAa,QAAQJ,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC5D,CAEAF,EAAQ,iBAAiB,QAASO,EAASJ,EAAgB,GAAG,CAAC,EAC/DH,EAAQ,iBAAiB,SAAUI,GAAS,CAC1CA,EAAM,eAAc,EAEpB,QAAQ,IAAIF,CAAQ,EACpBA,EAAW,CAAA,EACX,aAAa,QAAQD,CAAW,EAChCG,EAAM,OAAO,OACf,CAAC,EAED,SAASI,GAAc,CACrB,GAAI,CACF,MAAMC,EAAY,aAAa,QAAQR,CAAW,EAClD,GAAI,CAACQ,EAAW,OAChBP,EAAW,KAAK,MAAMO,CAAS,EAC/B,OAAO,QAAQP,CAAQ,EAAE,QAAQ,CAAC,CAACQ,EAAKC,CAAG,IAAM,CAC/CX,EAAQ,SAASU,GAAK,MAAQC,CACpC,CAAK,CACL,OAAW,CAAE,QAAAC,GAAT,CACA,QAAQ,IAAIA,CAAO,CACpB,CACH,CAEAJ,IACA,aAAa,WAAWP,CAAW"}